### 博弈論基礎

博弈論是研究具有相互依賴的決策者之間策略選擇的數學理論。每個參與者（稱為“玩家”）在博弈中根據自己的利益和對其他玩家行為的預期來選擇策略。博弈論的基礎概念包括：玩家、策略、支付（獎勳）和信息結構。博弈論廣泛應用於經濟學、政治學、社會科學、計算機科學等領域。

### 博弈論的基本組成部分

1. **玩家（Players）**：博弈中的參與者，每個玩家的目標是最大化自己的效用或支付。
2. **策略（Strategies）**：每個玩家可以選擇的行動計劃。策略可以是純策略（確定性選擇某一行動）或混合策略（概率性選擇行動）。
3. **支付（Payoffs）**：每個玩家在不同策略組合下的獲得回報或效用，通常表示為一個數值。
4. **信息結構（Information Structure）**：玩家在做出決策時擁有的資訊，根據不同的博弈類型（如完全信息博弈、非完全信息博弈），信息結構可以有所不同。

### 博弈的分類

1. **靜態博弈與動態博弈**：
   - 靜態博弈：所有玩家同時作出決策，並根據其他玩家的策略做出反應。這類博弈的解決方法一般使用納什均衡（Nash Equilibrium）。
   - 動態博弈：玩家的決策是逐步進行的，且每個玩家的決策會受到前述玩家行為的影響。這類博弈通常需要考慮時間序列和策略演變。

2. **完全信息博弈與不完全信息博弈**：
   - 完全信息博弈：所有玩家對博弈的規則、其他玩家的策略空間和支付都了解清楚。
   - 不完全信息博弈：部分或全部玩家對博弈的某些元素（如其他玩家的策略或支付）不了解。

3. **零和博弈與非零和博弈**：
   - 零和博弈：一方的收益恰好等於另一方的損失，即所有玩家的支付之和為零。
   - 非零和博弈：多方博弈中，玩家之間的支付和不一定為零，可以有合作或共同收益。

### 納什均衡（Nash Equilibrium）

納什均衡是博弈論中最重要的概念之一，指的是在一個博弈中，當所有玩家都知道其他玩家的策略時，沒有玩家能單方面改變自己的策略以提高自己的支付。換句話說，納什均衡是一種策略組合，每個玩家的策略都是其最佳回應（即使考慮到其他玩家的行為）。

#### 納什均衡的條件

假設有 \(n\) 位玩家，每個玩家 \(i\) 有一個策略空間 \(S_i\) 和一個支付函數 \(u_i\)。策略組合 \((s_1^*, s_2^*, ..., s_n^*)\) 是納什均衡的當且僅當：
\[
u_i(s_1^*, s_2^*, ..., s_i^*, ..., s_n^*) \geq u_i(s_1^*, s_2^*, ..., s_i, ..., s_n^*)
\]
對於所有 \(i\) 和 \(s_i \in S_i\)，也就是說，每個玩家的策略在給定其他玩家策略的情況下都是最優的。

### 博弈論中的常見類型

1. **囚徒困境（Prisoner's Dilemma）**：這是一個經典的兩人博弈，玩家面臨兩個選擇：合作或背叛。儘管合作對雙方有利，但理性推理會導致背叛成為納什均衡，從而使兩方的總收益低於合作的情況。

2. **雞蛋博弈（Chicken Game）**：這是另一個兩人博弈，玩家的選擇是「選擇合作」或「選擇對抗」。如果兩個玩家都選擇對抗，則兩者都受損；如果只有一個玩家選擇對抗，那麼選擇合作的玩家獲得較好的結果。

3. **協作博弈（Cooperative Game）**：與非協作博弈不同，協作博弈允許玩家之間進行合作，並且可以協商如何共享總支付。這類博弈中會涉及合作協議和資源的分配。

### 博弈論在多智能體學習中的應用

在多智能體學習中，博弈論被用來描述和解決多個智能體之間的交互與競爭問題。每個智能體的目標是根據其他智能體的策略來選擇最佳行動，通常這些問題可以用零和博弈或非零和博弈來建模。

- **多智能體強化學習（Multi-Agent Reinforcement Learning, MARL）**：在 MARL 中，每個智能體都是一個參與者，並且通過與其他智能體的交互來學習最佳策略。博弈論中的策略選擇和納什均衡理論是多智能體學習中常見的理論基礎。

### Python 示例：囚徒困境遊戲

在囚徒困境遊戲中，兩個玩家可以選擇合作或背叛。下面是 Python 實現的簡單囚徒困境遊戲的策略模擬。

```python
import numpy as np

# 定義囚徒困境的支付矩陣
# 玩家1/玩家2 -> (合作, 背叛)
payoff_matrix = {
    ('C', 'C'): (3, 3),  # 都合作
    ('C', 'D'): (0, 5),  # 玩家1合作，玩家2背叛
    ('D', 'C'): (5, 0),  # 玩家1背叛，玩家2合作
    ('D', 'D'): (1, 1)   # 都背叛
}

# 玩家選擇策略
def prisoner_dilemma(player1_choice, player2_choice):
    return payoff_matrix[(player1_choice, player2_choice)]

# 模擬多輪遊戲
def simulate_game(rounds=10):
    player1_score = 0
    player2_score = 0
    for _ in range(rounds):
        player1_choice = np.random.choice(['C', 'D'])  # 玩家1 隨機選擇合作或背叛
        player2_choice = np.random.choice(['C', 'D'])  # 玩家2 隨機選擇合作或背叛
        score1, score2 = prisoner_dilemma(player1_choice, player2_choice)
        player1_score += score1
        player2_score += score2
    return player1_score, player2_score

# 模擬多輪遊戲
rounds = 100
score1, score2 = simulate_game(rounds)
print(f"玩家1的總得分: {score1}, 玩家2的總得分: {score2}")
```

### 解釋
- 這個程式模擬了囚徒困境遊戲，兩個玩家在每一回合選擇合作或背叛，並根據支付矩陣計算每個玩家的得分。
- `payoff_matrix` 定義了每個策略組合的支付。
- `simulate_game` 函數模擬多輪博弈，並返回兩位玩家的總得分。

### 小結

博弈論為多智能體學習提供了強大的理論基礎。它幫助我們理解不同智能體之間如何根據彼此的策略做出選擇，並分析各種策略的穩定性。在多智能體學習中，博弈論可以幫助設計有效的學習算法，使得智能體能夠在複雜的互動環境中達成最優策略。