### 5.2. 因果關係與因果機率

因果關係在理解世界和指導我們的行動中扮演著重要角色。了解某事件是否由另一事件引起，例如是止痛藥治療了頭痛還是某個電視節目有影響，會影響我們未來的決策。同樣地，在司法範疇中，原告是否獲勝通常取決於「更可能的情況是」如果沒有被告的行為，損害不會發生。

這些情況屬於「因果關係與效果」，其中我們觀察到效果（Y = y）和可能的原因（X = x），並且從反事實的角度評估，如果沒有該原因，效果是否會發生。

我們之前提到，基於結果的反事實機率，一般來說無法從觀察性或實驗性研究中識別出來。然而，這些機率並非無用；結構性框架可以指導我們找到能夠從資料中評估它們的條件。這個方法遵循結構性方法論的四個步驟：定義、假設、識別和估計。

#### 因果機率 (PN) 的正式定義

此處的目標數量是，在現實中Y = y且X = x的情況下，若原因（X = x′）不同，事件（Y = y′）發生的機率。這個機率稱為**必要性機率 (PN)**，可以正式表達為：

\[
P_N(x, y) = P(Y_{x'} = y' | X = x, Y = y)
\]

這個反事實數量，最早由Robins和Greenland（1989a）命名為「因果機率」，可以從任何完全指定的結構模型中計算出來，該模型定義了反事實的聯合分佈。

#### PN的可識別性

接下來的步驟是識別能夠從實證資料中計算出PN的條件，無論是觀察性、實驗性還是兩者的組合。根據**定理 3**，如果Y相對於X是單調的（即\(Y_1(u) \geq Y_0(u)\)），則當因果效應 \(P(y | do(x))\) 可識別時，PN也是可識別的。PN的公式可以寫成：

\[
P_N = \frac{P(y | x) - P(y | x')}{P(y | x)} + \frac{P(y | x') - P(y | do(x')))}{P(x, y)}
\]

公式右邊的第一項是流行病學家在法庭案件中常用的**過度風險比率**（ERR），第二項則是用來修正混淆偏誤，即 \(P(y | do(x')) \neq P(y | x')\)。

#### PN的實證應用

在藥品相關的訴訟中，通常會使用來自實驗和觀察性研究的數據。實驗數據通常由製造商或監管機構（如FDA）提供，這些數據可能顯示X（例如藥物）和Y（例如健康結果）之間沒有因果關係。然而，當這些數據與來自廣泛調查的觀察性數據結合時，PN的下限可以顯示為接近1，這表明藥物的效應確實是因果性的，且機率為1。

這一結果強調了反事實分析在根據實證資料作出因果判斷中的實用性。它表明，反事實數量在最初看來似乎是虛擬的或無法測試的，但在適當的結構框架下，它們可以被識別並進行測試。

#### 治療效果對治療者（ETT）

另一個已經被充分描述的反事實數量是**治療效果對治療者（ETT）**，用來評估治療或社會計劃對參與者的效果。這可以表達為：

\[
ETT = P(Y_x = y | X = x')
\]

Shpitser和Pearl（2009）證明了，在許多情況下，ETT可以從實驗性研究中進行評估，並且在觀察性研究中，只要測量了足夠的協變數並滿足反門檻條件，也可以評估ETT。這進一步證明了反事實數量的可評估性，即使這些數量本質上是反事實的。

### 結論

這些結果強調了反事實數量在因果分析中的重要性，儘管它們本身無法單獨測試，但在結構性框架下，通過理論模型和實證數據的結合，反事實數量如**因果機率（PN）**和**治療效果對治療者（ETT）**可以被識別並進行測試。這代表了形式因果分析的成功，推動了我們對因果關係的科學理解，並證明了這些數量是可定義和可測試的。