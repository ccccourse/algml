#### **9.3 非確定性與確定性自動機**

在自動機理論中，自動機可以分為兩大類：確定性自動機（Deterministic Automaton, DFA）和非確定性自動機（Nondeterministic Automaton, NFA）。這兩者在運行過程中具有不同的特性，對於正規語言的描述和接受有不同的影響。

##### **9.3.1 確定性有限自動機（DFA）**

確定性有限自動機（DFA）是一種每一狀態對每一輸入符號都有且只有一個轉移的有限自動機。換句話說，對於任意的當前狀態和當前輸入，DFA 的行為是完全確定的。這使得 DFA 的運行過程非常簡單，並且可以有效地進行狀態遷移。

DFA 的正式定義包括以下五個元件：
1. **狀態集 \(Q\)**：所有可能的狀態集合。
2. **字母表 \(\Sigma\)**：輸入符號的集合，通常是一個有限的符號集。
3. **轉移函數 \(\delta: Q \times \Sigma \to Q\)**：定義了在某一狀態下，根據一個輸入符號，轉移到哪一個新的狀態。
4. **初始狀態 \(q_0 \in Q\)**：自動機的起始狀態。
5. **接受狀態集 \(F \subseteq Q\)**：所有接受的終止狀態。

在運行過程中，DFA 會根據當前的狀態和輸入符號通過轉移函數轉換到新的狀態，直到處理完所有輸入字串。如果最終所處的狀態是接受狀態，那麼該字串被認為是接受的，否則則拒絕。

**DFA 的特性：**
- **唯一性**：對於每個當前狀態和輸入符號，DFA 的轉移是唯一的，因此其運行過程中沒有模糊或多重選擇的情況。
- **確定性**：由於每一個狀態轉移都是確定的，DFA 是一種確定性模型。

---

##### **9.3.2 非確定性有限自動機（NFA）**

非確定性有限自動機（NFA）是指在某些情況下，當前狀態和輸入符號的組合可能對應於多個可能的後續狀態，或者根本不需要任何輸入就能轉移到一個新狀態。換句話說，NFA 的運行過程中，對於每一個當前狀態和輸入符號，可能有多個選擇或沒有選擇。

NFA 的正式定義與 DFA 類似，但存在以下差異：
1. **狀態集 \(Q\)**、**字母表 \(\Sigma\)** 和 **接受狀態集 \(F \subseteq Q\)** 與 DFA 相同。
2. **轉移函數 \(\delta: Q \times \Sigma \to \mathcal{P}(Q)\)**：這是 NFA 的關鍵區別，轉移函數的結果是狀態集的子集，而不是單一的狀態。這意味著對於某一狀態和輸入符號，NFA 可以轉移到多個不同的狀態。
3. **初始狀態 \(q_0 \in Q\)** 仍然是唯一的。

NFA 的運行過程是非確定的，因為它在每一步可能有多個選擇。在運行過程中，NFA 會選擇其中一條可能的路徑繼續進行，並且如果任意一條路徑最終到達接受狀態，則該字串被接受。

**NFA 的特性：**
- **多重選擇**：對於每個當前狀態和輸入符號，NFA 可能有多個轉移路徑。
- **ε-遷移（epsilon transition）**：NFA 允許在沒有消耗任何輸入符號的情況下進行狀態轉換，即可以通過 ε（空字串）轉移到另一個狀態。
- **非確定性**：NFA 的運行過程中，對於某些情況，它無法確定到底會進入哪一個狀態。

---

##### **9.3.3 DFA 和 NFA 的等價性**

儘管 DFA 和 NFA 在運行過程中有很大的區別，但它們在表達能力上是等價的。也就是說，對於每一個 NFA 都存在一個等價的 DFA，能夠接受相同的語言，反之亦然。

**證明 NFA 和 DFA 等價的主要觀點：**
- **NFA 可以被轉換為 DFA**：任何 NFA 都可以被轉換為等價的 DFA，這種轉換過程稱為 **子集構造法**（Subset Construction）。該方法通過將 NFA 的每一個狀態集（即 NFA 的所有可能狀態的子集）視為 DFA 的一個狀態來實現轉換。雖然這樣的轉換會導致狀態數量的指數增長，但轉換後的 DFA 和原來的 NFA 是等價的，並且接受相同的語言。
- **DFA 是 NFA 的特例**：由於 DFA 是 NFA 的特殊情況，其中每個狀態的轉移對應於唯一的下一個狀態，因此每個 DFA 都可以被視為一個 NFA。

這意味著，儘管 NFA 和 DFA 在運行上有很大不同，從理論上來看，它們可以描述相同的語言。NFA 的多重選擇和非確定性使得它在構建和設計上更加靈活，但最終它們在處理的語言類別上並無區別。

---

##### **9.3.4 NFA 和 DFA 的性能比較**

儘管 NFA 和 DFA 能夠描述相同的語言，但在實際運行中，DFA 和 NFA 之間存在性能上的差異。

**DFA 的優勢：**
- **運行效率高**：DFA 只需一次掃描輸入字串就能決定是否接受，運行時間是線性的，這使得 DFA 在實際應用中更為高效。
- **決定性**：由於每個狀態轉移都是確定的，DFA 在運行過程中不會遇到分支，因此更容易進行優化和並行化。

**NFA 的劣勢：**
- **潛在的複雜度**：由於 NFA 的非確定性特性，它需要在運行過程中考慮多個可能的路徑，這會增加處理時間。雖然 NFA 可以接受的語言也能夠被 DFA 接受，但 NFA 的運行速度往往會慢於 DFA，特別是在存在大量 ε-遷移或多分支的情況下。

然而，在某些情況下，NFA 的設計更簡單，構造過程可能比等價的 DFA 更直觀，因此它在理論研究和一些算法設計中仍然有重要的價值。

---

##### **9.3.5 小結**

確定性有限自動機（DFA）和非確定性有限自動機（NFA）是兩種基本的自動機模型，分別以確定性和非確定性方式進行狀態遷移。雖然它們在運行過程中有所不同，但在理論上它們是等價的，並且都能夠接受正規語言。DFA 的運行效率較高，而 NFA 的設計更靈活、直觀。這兩種自動機模型都在計算理論、語言學和編譯器設計中扮演著關鍵角色。