
在 Python 的 `.pyc` 檔案中，操作碼 (`op code`) 在 Python 3.6 之前大部分是**沒有參數的**。而從 **Python 3.6** 開始，Python 虛擬機 (CPython) 改變了 `.pyc` 檔案的 bytecode 格式，並引入了一種名為 **"wordcode"** 的表示方法。

### 詳細說明

- **Python 3.6 之前**：大部分的操作碼是 1 個 byte 長度，不需要額外參數。對於需要參數的指令，操作碼後緊接一個額外的 byte 作為參數。

- **Python 3.6 之後**：引入了 **wordcode** 格式，使得每個操作碼和參數各占用 2 bytes，即便是沒有參數的操作碼，也會保留 2 bytes 以保持統一的格式。這樣的設計主要是為了加速虛擬機的執行，因為它可以減少每次解碼的工作量。

### 程式碼範例

如果你想查看當前 Python 版本中所有操作碼是否有參數，可以使用以下程式碼：

```python
import dis

for op in range(len(dis.opname)):
    if dis.opname[op] is not None:
        has_arg = op >= dis.HAVE_ARGUMENT
        print(f"{dis.opname[op]}: {'Has argument' if has_arg else 'No argument'}")
```

這段程式碼會檢查操作碼是否超過 `HAVE_ARGUMENT` 的閾值，這個閾值用於判斷哪些操作碼需要參數。


```
(base) cccimac@cccimacdeiMac py % python check_op_args.py 
CACHE: No argument
POP_TOP: No argument
PUSH_NULL: No argument
INTERPRETER_EXIT: No argument
END_FOR: No argument
END_SEND: No argument
<6>: No argument
<7>: No argument
<8>: No argument
NOP: No argument
<10>: No argument
UNARY_NEGATIVE: No argument
UNARY_NOT: No argument
<13>: No argument
<14>: No argument
UNARY_INVERT: No argument
<16>: No argument
RESERVED: No argument
<18>: No argument
<19>: No argument
<20>: No argument
<21>: No argument
<22>: No argument
<23>: No argument
<24>: No argument
BINARY_SUBSCR: No argument
BINARY_SLICE: No argument
STORE_SLICE: No argument
<28>: No argument
<29>: No argument
GET_LEN: No argument
MATCH_MAPPING: No argument
MATCH_SEQUENCE: No argument
MATCH_KEYS: No argument
<34>: No argument
PUSH_EXC_INFO: No argument
CHECK_EXC_MATCH: No argument
CHECK_EG_MATCH: No argument
<38>: No argument
<39>: No argument
<40>: No argument
<41>: No argument
<42>: No argument
<43>: No argument
<44>: No argument
<45>: No argument
<46>: No argument
<47>: No argument
<48>: No argument
WITH_EXCEPT_START: No argument
GET_AITER: No argument
GET_ANEXT: No argument
BEFORE_ASYNC_WITH: No argument
BEFORE_WITH: No argument
END_ASYNC_FOR: No argument
CLEANUP_THROW: No argument
<56>: No argument
<57>: No argument
<58>: No argument
<59>: No argument
STORE_SUBSCR: No argument
DELETE_SUBSCR: No argument
<62>: No argument
<63>: No argument
<64>: No argument
<65>: No argument
<66>: No argument
<67>: No argument
GET_ITER: No argument
GET_YIELD_FROM_ITER: No argument
<70>: No argument
LOAD_BUILD_CLASS: No argument
<72>: No argument
<73>: No argument
LOAD_ASSERTION_ERROR: No argument
RETURN_GENERATOR: No argument
<76>: No argument
<77>: No argument
<78>: No argument
<79>: No argument
<80>: No argument
<81>: No argument
<82>: No argument
RETURN_VALUE: No argument
<84>: No argument
SETUP_ANNOTATIONS: No argument
<86>: No argument
LOAD_LOCALS: No argument
<88>: No argument
POP_EXCEPT: No argument
STORE_NAME: Has argument
DELETE_NAME: Has argument
UNPACK_SEQUENCE: Has argument
FOR_ITER: Has argument
UNPACK_EX: Has argument
STORE_ATTR: Has argument
DELETE_ATTR: Has argument
STORE_GLOBAL: Has argument
DELETE_GLOBAL: Has argument
SWAP: Has argument
LOAD_CONST: Has argument
LOAD_NAME: Has argument
BUILD_TUPLE: Has argument
BUILD_LIST: Has argument
BUILD_SET: Has argument
BUILD_MAP: Has argument
LOAD_ATTR: Has argument
COMPARE_OP: Has argument
IMPORT_NAME: Has argument
IMPORT_FROM: Has argument
JUMP_FORWARD: Has argument
<111>: Has argument
<112>: Has argument
<113>: Has argument
POP_JUMP_IF_FALSE: Has argument
POP_JUMP_IF_TRUE: Has argument
LOAD_GLOBAL: Has argument
IS_OP: Has argument
CONTAINS_OP: Has argument
RERAISE: Has argument
COPY: Has argument
RETURN_CONST: Has argument
BINARY_OP: Has argument
SEND: Has argument
LOAD_FAST: Has argument
STORE_FAST: Has argument
DELETE_FAST: Has argument
LOAD_FAST_CHECK: Has argument
POP_JUMP_IF_NOT_NONE: Has argument
POP_JUMP_IF_NONE: Has argument
RAISE_VARARGS: Has argument
GET_AWAITABLE: Has argument
MAKE_FUNCTION: Has argument
BUILD_SLICE: Has argument
JUMP_BACKWARD_NO_INTERRUPT: Has argument
MAKE_CELL: Has argument
LOAD_CLOSURE: Has argument
LOAD_DEREF: Has argument
STORE_DEREF: Has argument
DELETE_DEREF: Has argument
JUMP_BACKWARD: Has argument
LOAD_SUPER_ATTR: Has argument
CALL_FUNCTION_EX: Has argument
LOAD_FAST_AND_CLEAR: Has argument
EXTENDED_ARG: Has argument
LIST_APPEND: Has argument
SET_ADD: Has argument
MAP_ADD: Has argument
<148>: Has argument
COPY_FREE_VARS: Has argument
YIELD_VALUE: Has argument
RESUME: Has argument
MATCH_CLASS: Has argument
<153>: Has argument
<154>: Has argument
FORMAT_VALUE: Has argument
BUILD_CONST_KEY_MAP: Has argument
BUILD_STRING: Has argument
<158>: Has argument
<159>: Has argument
<160>: Has argument
<161>: Has argument
LIST_EXTEND: Has argument
SET_UPDATE: Has argument
DICT_MERGE: Has argument
DICT_UPDATE: Has argument
<166>: Has argument
<167>: Has argument
<168>: Has argument
<169>: Has argument
<170>: Has argument
CALL: Has argument
KW_NAMES: Has argument
CALL_INTRINSIC_1: Has argument
CALL_INTRINSIC_2: Has argument
LOAD_FROM_DICT_OR_GLOBALS: Has argument
LOAD_FROM_DICT_OR_DEREF: Has argument
<177>: Has argument
<178>: Has argument
<179>: Has argument
<180>: Has argument
<181>: Has argument
<182>: Has argument
<183>: Has argument
<184>: Has argument
<185>: Has argument
<186>: Has argument
<187>: Has argument
<188>: Has argument
<189>: Has argument
<190>: Has argument
<191>: Has argument
<192>: Has argument
<193>: Has argument
<194>: Has argument
<195>: Has argument
<196>: Has argument
<197>: Has argument
<198>: Has argument
<199>: Has argument
<200>: Has argument
<201>: Has argument
<202>: Has argument
<203>: Has argument
<204>: Has argument
<205>: Has argument
<206>: Has argument
<207>: Has argument
<208>: Has argument
<209>: Has argument
<210>: Has argument
<211>: Has argument
<212>: Has argument
<213>: Has argument
<214>: Has argument
<215>: Has argument
<216>: Has argument
<217>: Has argument
<218>: Has argument
<219>: Has argument
<220>: Has argument
<221>: Has argument
<222>: Has argument
<223>: Has argument
<224>: Has argument
<225>: Has argument
<226>: Has argument
<227>: Has argument
<228>: Has argument
<229>: Has argument
<230>: Has argument
<231>: Has argument
<232>: Has argument
<233>: Has argument
<234>: Has argument
<235>: Has argument
<236>: Has argument
INSTRUMENTED_LOAD_SUPER_ATTR: Has argument
INSTRUMENTED_POP_JUMP_IF_NONE: Has argument
INSTRUMENTED_POP_JUMP_IF_NOT_NONE: Has argument
INSTRUMENTED_RESUME: Has argument
INSTRUMENTED_CALL: Has argument
INSTRUMENTED_RETURN_VALUE: Has argument
INSTRUMENTED_YIELD_VALUE: Has argument
INSTRUMENTED_CALL_FUNCTION_EX: Has argument
INSTRUMENTED_JUMP_FORWARD: Has argument
INSTRUMENTED_JUMP_BACKWARD: Has argument
INSTRUMENTED_RETURN_CONST: Has argument
INSTRUMENTED_FOR_ITER: Has argument
INSTRUMENTED_POP_JUMP_IF_FALSE: Has argument
INSTRUMENTED_POP_JUMP_IF_TRUE: Has argument
INSTRUMENTED_END_FOR: Has argument
INSTRUMENTED_END_SEND: Has argument
INSTRUMENTED_INSTRUCTION: Has argument
INSTRUMENTED_LINE: Has argument
<255>: Has argument
SETUP_FINALLY: Has argument
SETUP_CLEANUP: Has argument
SETUP_WITH: Has argument
POP_BLOCK: Has argument
JUMP: Has argument
JUMP_NO_INTERRUPT: Has argument
LOAD_METHOD: Has argument
LOAD_SUPER_METHOD: Has argument
LOAD_ZERO_SUPER_METHOD: Has argument
LOAD_ZERO_SUPER_ATTR: Has argument
STORE_FAST_MAYBE_NULL: Has argument
```