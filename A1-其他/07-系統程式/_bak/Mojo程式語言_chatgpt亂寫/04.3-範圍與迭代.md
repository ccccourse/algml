### **範圍與迭代**

在 Mojo 中，範圍（range）和迭代（iteration）是用來生成數字序列、遍歷數據結構以及進行數據操作的兩個基本概念。這些功能通常與 `for` 循環一起使用，可以讓我們方便地處理數據和執行循環操作。

---

#### **1. 範圍（Range）**

範圍是一種生成數字序列的方式，通常在 `for` 循環中使用。它可以幫助你定義一組數字，這些數字可以用來進行遍歷、計算或其他操作。

- **基本語法**：

  ```mojo
  range(起始, 結束, 步長)
  ```

  - `起始`：數字序列的起始值。
  - `結束`：數字序列的結束值（不包含該值）。
  - `步長`：數字序列中兩個數字之間的間隔。

- **範例**：生成從 1 到 5 的範圍

  ```mojo
  for i in range(1, 6):
      print(i)
  ```

  **輸出**：
  ```
  1
  2
  3
  4
  5
  ```

  這段代碼生成了從 1 到 5 的範圍（不包含 6），並遍歷其中的每個數字。

- **範例**：指定步長為 2

  ```mojo
  for i in range(1, 10, 2):
      print(i)
  ```

  **輸出**：
  ```
  1
  3
  5
  7
  9
  ```

  在這個範例中，`range(1, 10, 2)` 會生成從 1 開始，步長為 2，直到 10（不包含 10）的範圍。

- **範例**：生成一個倒序範圍

  ```mojo
  for i in range(5, 0, -1):
      print(i)
  ```

  **輸出**：
  ```
  5
  4
  3
  2
  1
  ```

  這段代碼生成了一個從 5 到 1 的倒序範圍（不包含 0），並遍歷每個數字。

---

#### **2. 迭代（Iteration）**

迭代是指對集合或數據結構中的每個元素進行處理的過程。在 Mojo 中，常見的可迭代對象包括列表、字典、字符串等。

- **遍歷列表（List）**：

  ```mojo
  let numbers = [1, 2, 3, 4, 5]
  for num in numbers:
      print(num)
  ```

  **輸出**：
  ```
  1
  2
  3
  4
  5
  ```

  在這個範例中，`for` 循環會遍歷列表 `numbers` 中的每個元素，並打印出每個數字。

- **遍歷字典（Dictionary）**：

  如果你有一個字典，可以遍歷它的鍵（key）或值（value）：

  ```mojo
  let person = {"name": "Alice", "age": 30, "city": "New York"}
  for key, value in person:
      print(f"{key}: {value}")
  ```

  **輸出**：
  ```
  name: Alice
  age: 30
  city: New York
  ```

  在這個範例中，`for` 循環會遍歷字典 `person` 中的每個鍵值對，並打印出鍵和值。

- **遍歷字符串（String）**：

  你可以遍歷字符串中的每個字符：

  ```mojo
  let word = "Hello"
  for char in word:
      print(char)
  ```

  **輸出**：
  ```
  H
  e
  l
  l
  o
  ```

  這段代碼會遍歷字符串 `"Hello"` 中的每個字符，並依次打印出來。

---

#### **3. 迭代器與生成器**

Mojo 中的範圍和其他可迭代對象基本上都實現了迭代器協定，這意味著可以在循環中使用 `next()` 方法逐個訪問元素。

- **範例**：手動迭代範圍

  ```mojo
  let r = range(1, 6)
  while let num = r.next():
      print(num)
  ```

  **輸出**：
  ```
  1
  2
  3
  4
  5
  ```

  在這個範例中，`r.next()` 逐個獲取範圍內的數字，直到範圍結束。

- **生成器（Generators）**：生成器是特殊的迭代器，能夠懶加載數據，節省內存。你可以使用 `yield` 關鍵字來創建生成器。

  ```mojo
  func count_up_to(limit: Int):
      var num = 1
      while num <= limit:
          yield num
          num += 1

  for n in count_up_to(5):
      print(n)
  ```

  **輸出**：
  ```
  1
  2
  3
  4
  5
  ```

  在這個範例中，`count_up_to` 函數是一個生成器，它懶加載並返回數字，直到達到指定的限制。

---

#### **4. 範圍與迭代的應用場景**

- **數據處理**：範圍和迭代常用於數據處理，尤其是對大規模數據集進行迭代和計算。
  
- **迭代集合**：例如遍歷數據庫結果、文件內容、用戶輸入等。

- **生成序列**：利用範圍和生成器可以創建大範圍的數據序列，並以懶加載的方式處理它們。

---

#### **5. 總結**

- **範圍**：可以使用 `range` 函數來生成數字序列，並且支持設置起始、結束和步長。它是 `for` 循環中常用的生成數字序列的方法。
- **迭代**：迭代是處理集合中每個元素的過程，可以應用於列表、字典、字符串等數據結構。
- **生成器**：生成器是特殊的迭代器，能夠懶加載數據，有助於提高內存效率。

範圍與迭代是處理大規模數據和執行重複操作的核心工具，能幫助我們更加高效地編寫代碼。