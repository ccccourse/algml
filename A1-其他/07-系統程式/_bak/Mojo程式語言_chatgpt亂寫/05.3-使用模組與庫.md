### **使用模組與庫**

在 Mojo 中，模組和庫的使用是程式開發的重要部分，它們能夠幫助我們復用現有的代碼，提高開發效率，並能簡化程序的結構。模組和庫通常包含了一些功能函數、類別和常數，可以被其他程式引入並加以使用。

Mojo 提供了簡單而靈活的機制來引用和管理模組，使得代碼更加模塊化，易於維護和擴展。

---

#### **1. 模組與庫的概念**

- **模組**：模組是包含函數、變數、類別等的代碼集合。在 Mojo 中，模組可以是內建的，也可以是由開發者創建的。
- **庫**：庫是一組預定義的模組和功能，通常是由外部開發者或社群提供的。這些庫可以是用於處理各種任務的工具集合，如數據處理、網路請求、數學計算等。

---

#### **2. 模組的導入**

在 Mojo 中，使用 `import` 關鍵字來導入其他模組。可以導入標準庫中的模組，也可以導入自定義的模組。

- **導入標準模組**

  ```mojo
  import Math
  ```

  這樣可以導入 `Math` 模組，並使用其中的函數和常量。

- **導入自定義模組**

  如果模組文件與當前腳本位於相同目錄下，則可以直接使用 `import` 來導入。例如，有一個名為 `utils.mojo` 的文件，內含一些工具函數，可以這樣導入：

  ```mojo
  import utils
  ```

  這樣就能使用 `utils.mojo` 中定義的函數和類別。

---

#### **3. 模組的導入路徑**

Mojo 使用相對路徑或絕對路徑來導入模組。當你創建自己的模組時，最好保持清晰的結構，以便於管理。

- **相對路徑**：假設當前腳本與模組文件在同一目錄中，你可以直接導入模組。

  ```mojo
  import mymodule  # 假設 mymodule.mojo 與當前腳本同在一個目錄
  ```

- **絕對路徑**：如果模組在不同的文件夾中，則需要使用相對或絕對路徑。

  ```mojo
  import folder.mymodule  # 假設模組位於 folder 目錄下
  ```

---

#### **4. 使用庫**

除了標準模組和自定義模組，Mojo 也支持使用外部庫。外部庫通常需要安裝到你的開發環境中，並可以在代碼中進行引用。

- **安裝庫**：使用 Mojo 的包管理工具（如 `mojo install`）來安裝外部庫。例如，安裝一個名為 `mojo-numpy` 的數學庫：

  ```bash
  mojo install mojo-numpy
  ```

- **導入庫中的模組**：安裝完庫後，你可以像導入標準模組一樣導入外部庫中的模組。

  ```mojo
  import mojo_numpy as np
  ```

  這樣，你就能使用 `mojo-numpy` 庫中的數學運算功能。

---

#### **5. 使用模組中的函數與類別**

一旦模組被導入，就可以使用其中的函數、類別和變數。

- **範例 1：使用函數**

  假設 `math` 模組中有一個 `sqrt` 函數來計算平方根：

  ```mojo
  import Math

  let result = Math.sqrt(16)
  print(result)  # 4.0
  ```

- **範例 2：使用類別**

  假設 `mymodule.mojo` 中定義了一個 `Person` 類別：

  ```mojo
  import mymodule

  let person = mymodule.Person("Alice", 30)
  print(person.name)  # Alice
  print(person.age)   # 30
  ```

---

#### **6. 模組的命名空間**

當你導入模組時，所有的函數、類別和變數都會存在於該模組的命名空間中。你需要通過模組名稱來訪問這些內容。

- **範例 1：使用模組命名空間**

  ```mojo
  import Math

  let result = Math.pow(2, 3)
  print(result)  # 8.0
  ```

  在這個範例中，`Math` 模組包含了一個名為 `pow` 的函數，使用 `Math.pow` 調用它。

- **範例 2：縮短模組名**

  你也可以使用 `as` 關鍵字來縮短模組名，使其更簡潔。

  ```mojo
  import Math as m

  let result = m.pow(2, 3)
  print(result)  # 8.0
  ```

  這樣，你就可以通過 `m` 來調用 `Math` 模組中的內容。

---

#### **7. 模組的重載與別名**

如果有多個模組或庫包含相同名稱的函數或類別，你可以使用 `as` 來為它們創建別名，避免命名衝突。

- **範例 1：為模組創建別名**

  ```mojo
  import Math as m
  import Statistics as s

  let result1 = m.sqrt(16)
  let result2 = s.mean([1, 2, 3, 4, 5])
  ```

  在這個範例中，我們使用 `m` 來簡化對 `Math` 模組的訪問，並使用 `s` 來簡化對 `Statistics` 模組的訪問。

---

#### **8. 模組的實例化與依賴注入**

Mojo 還支持類別和對象的實例化，以及依賴注入的概念。你可以從一個模組或庫中創建對象並進行操作。

- **範例 1：創建對象**

  假設 `mymodule` 中有一個 `Car` 類別：

  ```mojo
  import mymodule

  let car = mymodule.Car("Toyota", 2024)
  print(car.brand)  # Toyota
  print(car.year)   # 2024
  ```

---

#### **9. 模組的循環依賴**

Mojo 避免了循環依賴問題，這意味著模組之間不能直接或間接地相互依賴。這樣的設計使得代碼結構更加簡單、易於理解。

---

#### **10. 總結**

- **導入模組**：使用 `import` 來導入標準庫、自定義模組或外部庫。
- **使用庫**：使用 Mojo 的包管理工具來安裝外部庫，並導入其中的模組進行使用。
- **命名空間**：導入模組後，使用模組名稱來訪問其中的函數和類別。
- **別名**：可以使用 `as` 為模組創建別名，避免命名衝突。
- **實例化對象**：可以創建類別的實例，並進行相應操作。

通過模組與庫的使用，你可以在 Mojo 中構建結構清晰、可擴展的代碼。