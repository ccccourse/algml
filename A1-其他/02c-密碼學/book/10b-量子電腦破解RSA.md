## ccc: 為何量子電腦能破解 RSA 算法，如何破解呢？

ChatGPT: https://chatgpt.com/c/674bd5ac-d4fc-8012-8c43-947ac1ddb42e

量子電腦能夠破解 RSA 加密算法的原因，主要來自於它能夠使用 **Shor 算法**，這是一種量子算法，用來有效地分解大數，這對於破解 RSA 加密至關重要。

### RSA 加密的基礎
RSA 加密基於數論中的一個問題，即 **大數分解問題**。在 RSA 中，公開密鑰是由兩個大質數 \( p \) 和 \( q \) 的乘積 \( n = p \times q \) 組成。私密密鑰的計算依賴於將 \( n \) 分解回 \( p \) 和 \( q \)。目前的傳統計算機在這個分解過程中需要花費非常長的時間，尤其是當 \( p \) 和 \( q \) 足夠大時。

### 量子電腦如何破解 RSA
量子電腦能破解 RSA 的原因在於它能使用 **Shor 算法**，這是一個量子算法，能夠在多項式時間內解決大數分解問題。與傳統計算機不同，量子計算機的核心特性（如量子疊加和量子糾纏）讓它能以非常高效的方式進行計算。

#### Shor 算法的原理：
Shor 算法的核心思路是使用量子傅里葉變換來找到一個數的周期。具體地，對於一個給定的數字 \( a \) 和模數 \( n \)，Shor 算法首先會計算 \( a^x \mod n \) 的結果，並找到其中的周期。這個周期對於分解 \( n \) 具有關鍵意義，因為一旦找到這個周期，就可以通過一些數論技巧將 \( n \) 分解成兩個質因數。

#### 傳統電腦與量子電腦的比較：
- **傳統電腦**：對於大數分解問題，當 \( n \) 足夠大時，傳統的算法（例如試除法或數值解法）所需的時間會隨著 \( n \) 的大小指數增長。這使得隨著密鑰長度增大，破解 RSA 的難度也大幅增加。
- **量子電腦**：Shor 算法能在多項式時間內解決大數分解問題，使得量子計算機在理論上能夠在現實世界中對 RSA 加密進行有效破解。

### Shor 算法的運行過程
1. **選擇一個隨機的數字 \( a \)**：選擇一個小於 \( n \) 且與 \( n \) 互質的數字 \( a \)。
2. **計算指數 \( a^x \mod n \)**：運行量子計算機來計算 \( a^x \mod n \) 的結果，其中 \( x \) 是一個需要找出周期的指數。
3. **找到周期**：通過量子傅里葉變換，找到 \( a^x \mod n \) 的周期 \( r \)。
4. **分解 \( n \)**：如果周期 \( r \) 是偶數，且 \( a^{r/2} \mod n \) 不是 \( \pm 1 \)，則可以計算出 \( p \) 和 \( q \)，即 \( n = p \times q \)。

這一過程的核心優勢是，量子計算機可以在多項式時間內高效地計算周期，並進行大數分解，從而快速找到 RSA 密鑰的兩個質因數 \( p \) 和 \( q \)。

### 量子電腦對 RSA 的威脅
由於 RSA 的安全性基於大數分解的困難性，當量子電腦能夠有效運行 Shor 算法時，現在的 RSA 加密將不再安全。這意味著，一旦量子電腦足夠強大，RSA 加密可能會變得容易破解。

目前的量子電腦尚未達到能運行 Shor 算法解決大數分解問題的規模，但這仍然是量子計算領域中的一個活躍研究領域。為了應對這一威脅，許多學者和研究機構正在開發新的加密算法，這些算法可以抵抗量子計算的攻擊（例如量子安全加密算法）。

## ccc: 請寫下 Shor 算法

Shor 算法是量子計算領域中最具突破性的算法之一，它能夠在多項式時間內解決大數分解問題。下面是 Shor 算法的基本步驟和 Python 程式碼示範（使用 Qiskit）。

### Shor 算法的基本步驟

Shor 算法解決的是大數分解問題，也就是將一個大數 \( N \) 分解為兩個質數因數。它的主要步驟如下：

1. **選擇隨機數字 \( a \)**：選擇一個隨機的數字 \( a \)，使得 \( a \) 和 \( N \) 互質。
2. **計算次方模 \( N \)**：計算 \( a^x \mod N \) 的週期 \( r \)，這是 Shor 算法的核心。量子計算的強大之處在於可以有效地計算這個周期。
3. **檢查周期性**：如果周期 \( r \) 是偶數且 \( a^{r/2} \mod N \neq -1 \)，那麼可以計算出 \( N \) 的因數。
4. **使用周期分解因數**：利用周期 \( r \) 計算出 \( N \) 的因數，通常會得到兩個非平凡的因數。

### Shor 算法的步驟
1. 選擇一個隨機數 \( a \)，使得 \( a \) 和 \( N \) 互質。
2. 使用量子傅里葉變換（QFT）來查找 \( a^x \mod N \) 的週期。
3. 用這個週期來分解 \( N \)。

### 使用 Qiskit 實現 Shor 算法

Qiskit 是 IBM 提供的一個量子計算框架，它也提供了實現 Shor 算法的模組。你可以通過以下步驟在 Qiskit 中運行 Shor 算法。

首先，安裝 Qiskit：

```bash
pip install qiskit
```

然後，使用 Qiskit 的 `shor` 模組來進行大數分解。這是 Shor 算法的實現範例：

```python
from qiskit import Aer
from qiskit.aqua.algorithms import Shor
from qiskit.aqua import QuantumInstance

# 設定要分解的數字 N
N = 15  # 這裡以 15 為例，15 = 3 * 5

# 設定量子運算模擬器
backend = Aer.get_backend('qasm_simulator')

# 創建 Shor 算法實例
shor = Shor(N)

# 設定量子計算實例
quantum_instance = QuantumInstance(backend)

# 運行 Shor 算法
result = shor.run(quantum_instance)

# 顯示結果
print("Shor 算法分解結果:", result['factors'])
```

### 解析：

1. **`N = 15`**：這裡我們選擇數字 15 來測試，因為它可以被分解為 \( 3 \times 5 \)。
2. **`Shor(N)`**：這會創建一個 Shor 算法的實例，並設置要分解的數字 \( N \)。
3. **`QuantumInstance(backend)`**：這個設置量子實例，這裡使用的是 QASM 模擬器（`qasm_simulator`）。
4. **`result['factors']`**：執行 Shor 算法後，我們可以通過 `result['factors']` 來獲得分解結果。對於 \( N = 15 \)，結果應該是 \( [3, 5] \)。

### 如何運作

- **量子傅里葉變換**：Shor 算法通過量子傅里葉變換（Quantum Fourier Transform, QFT）來有效地找到數字 \( a^x \mod N \) 的週期。這是量子計算的關鍵部分，傳統計算機無法在多項式時間內完成的操作。
- **週期找到後的因數分解**：一旦找到週期，就可以用這個週期來計算 \( N \) 的因數。這個步驟在經典計算機上是高效的。

### 請注意：
- 雖然 Shor 算法的理論基礎和實現已經存在，但目前的量子計算機尚未足夠強大以運行對大數的分解（例如上百位的數字）。目前的量子電腦主要是用於學術和研究目的，並且尚未達到足以破解實際加密的規模。

總結來說，Shor 算法是一個革命性的算法，因為它展示了量子計算的強大能力，能在多項式時間內解決對於經典計算機來說非常困難的問題（大數分解）。

## Shor 算法詳細實作

* [*Shor's Algorithm for Integer Factorization* (ipynb)](https://github.com/qiskit-community/qiskit-community-tutorials/blob/master/algorithms/shor_algorithm.ipynb)